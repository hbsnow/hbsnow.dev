---
import { BlogList } from "../../components/BlogList";
import { Footer } from "../../components/Footer";
import { Header } from "../../components/Header";
import { Container } from "../../cores/Container";
import BaseLayout from "../../layouts/BaseLayout.astro";
import type { Frontmatter } from "../../types/astro";

const unsortedPosts = await Astro.glob<Frontmatter>("./*.md");
const posts = unsortedPosts.sort((a, b) => {
  return (
    new Date(b.frontmatter.createdAt).valueOf() -
    new Date(a.frontmatter.createdAt).valueOf()
  );
});
---

<BaseLayout
  seo={{
    title: "Blog | hbsnow.dev",
    description: "hbsnow のブログ記事一覧。",
  }}
>
  <Header paths={[{ name: "blog" }]} />

  <main>
    <Container>
      <BlogList posts={posts} />
    </Container>
  </main>

  <Footer />
</BaseLayout>

<style>
  main {
    padding: var(--s5) 0;
  }
</style>
